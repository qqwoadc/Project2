<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cskaoyan.dao.PassengerMapper">

    <select id="findAllPassenger"  parameterType="com.cskaoyan.utils.PassengerVO" resultType="com.cskaoyan.bean.Passenger">
        SELECT * from  passenger limit #{limit} offset #{offset};
    </select>
    <select id="countAllPassenger" resultType="int">
        SELECT  COUNT(*) from passenger
    </select>


    <update id="updatePassenger" parameterType="com.cskaoyan.bean.Passenger">
        update passenger
        <set>
        <if test="name != null">
            name = #{name,jdbcType=VARCHAR},
        </if>
        <if test="genderName != null">
            genderName = #{genderName,jdbcType=VARCHAR},
        </if>
        <if test="birthDate != null">
            birthDate = #{birthDate,jdbcType=INTEGER},
        </if>
        <if test="nationName != null">
            nationName = #{nationName,jdbcType=INTEGER},
        </if>
        <if test="licenceIssuingAuthorty != null">
            licenceIssuingAuthorty = #{licenceIssuingAuthorty,jdbcType=DOUBLE},
        </if>
        <if test="profession != null">
            profession = #{profession,jdbcType=DOUBLE},
        </if>
        <if test="educationDegreeID != null">
            educationDegreeID = #{educationDegreeID,jdbcType=INTEGER},
        </if>
        <if test="passengerLevelName != null">
            passengerLevelName = #{passengerLevelName,jdbcType=INTEGER},
        </if>
        <if test="papersValidity != null">
            papersValidity = #{papersValidity,jdbcType=DOUBLE},
        </if>
        <if test="papersName != null">
            papersName = #{papersName,jdbcType=VARCHAR},
        </if>
        <if test="papersNumber != null">
            papersNumber = #{papersNumber,jdbcType=INTEGER},
        </if>
        <if test="unitsOrAddress != null">
            unitsOrAddress = #{unitsOrAddress,jdbcType=INTEGER},
        </if>
        <if test="thingReasonID != null">
            thingReasonID = #{thingReasonID,jdbcType=INTEGER},
        </if>
        <if test="whereAreFrom != null">
            whereAreFrom = #{whereAreFrom,jdbcType=INTEGER},
        </if>
        <if test="whereToGo != null">
            whereToGo = #{whereToGo,jdbcType=INTEGER},
        </if>
        <if test="contactPhoneNumber != null">
            contactPhoneNumber = #{contactPhoneNumber,jdbcType=INTEGER},
        </if>
        <if test="remarks != null">
            remarks = #{remarks,jdbcType=INTEGER},
        </if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>

    <insert id="addPassenger" parameterType="passenger" >
        INSERT INTO passenger VALUES (null,#{name},#{genderName},#{birthDate},#{nationName},
        #{licenceIssuingAuthorty},#{profession},#{educationDegreeID},
         #{passengerLevelName},#{papersValidity},#{papersName},
         #{papersNumber},#{unitsOrAddress},#{thingReasonID},#{whereAreFrom},
         #{whereToGo},#{contactPhoneNumber},#{remarks})
    </insert>

    <delete id="deletePassenger" parameterType="int">
        DELETE  from  passenger WHERE id=#{id}
    </delete>

    <select id="findPassengerByName" parameterType="com.cskaoyan.utils.PassengerVO" resultType="com.cskaoyan.bean.Passenger">
        SELECT * from  passenger WHERE name like #{name} limit #{limit} offset #{offset}
    </select>
    <select id="countAllPassengerByName"  parameterType="string" resultType="int">
        SELECT count(*) from  passenger WHERE name like #{name}
    </select>
    <select id="findPassengerById"  parameterType="int" resultType="com.cskaoyan.bean.Passenger">
        SELECT * from  passenger WHERE id = #{id}
    </select>
</mapper>